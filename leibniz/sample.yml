--- System definitions
type: object
properties:
  vars:
    type: object
  funcs:
    type: object
  update:
    type: object
  corpes:
    type: array
    items:
      type: object
      properties:
        position: string
        rotation: string

--- Examples
vars:
  t: 3
  r: 10
  phi: 0
funcs:
  R: e0 * r * cos(phi) + e1 * r * sin(phi)
update:
  t: t + dt
corpes:
  - position: R
    rotation: rotation(e2, 0)

--- System tree
definitions:
  ValueType:
    type: string
    enum:
      - scalar
      - vector
      - matrix
      - quaternion
      - operator
  ScalarNode:
    type: object
    properties:
      typeValue:
        $ref: "#/definitions/ValueType"
      value:
        type: number
  VectorNode:
    type: object
    properties:
      typeValue:
        $ref: "#/definitions/ValueType"
      value:
        type: array
        items:
          type: number
  MatrixNode:
    type: object
    properties:
      typeValue:
        $ref: "#/definitions/ValueType"
      value:
        type: array
        items:
          type: array
          items:
            type: number
  QuaternionNode:
    type: object
    properties:
      typeValue:
        $ref: "#/definitions/ValueType"
      value:
        type: array
        items:
          type: number
  OpNode:
    type: object
    properties:
      typeValue:
        $ref: "#/definitions/ValueType"
      args:
        type: array
        items:
          $ref: "#/definitions/NodeType"
  Node:
    type: oneOf
       - $ref: "#/definitions/ScalarNode"
       - $ref: "#/definitions/VectorNode"
       - $ref: "#/definitions/MatrixNode"
       - $ref: "#/definitions/QuaternionNode"
       - $ref: "#/definitions/OpNode"
  Corpe:
    type: object
    properties:
      position:
        $ref: '#/definitions/Node'
      rotation:
        $ref: '#/definitions/Node'
  System:
    type: object
    properties:
      vars:
        type: object
        # type: #/definitions/Node
      corpes:
        type: array
        items:
          $ref: '#/definitions/Corpe'
